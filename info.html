<!DOCTYPE html>
<head>
<title>HTTP Switchboard</title>
<style>
body {
    padding: 0 0 20em 0;
    font: 15px sans-serif;
    }
h3 + *, h1 + * {
    margin-left: 2em;
    }
#stats div div,#lists div div {
    padding: 0 1em 0 0;
    display: inline-block;
    text-align: right;
    }
#requests {
    font-size: 12px;
    }
#requests > div {
    margin: 0;
    border: 1px inset #eee;
    padding: 2px;
    font-family: mono;
    background-color: white;
    overflow: scroll;
    resize: vertical;
    }
#requests table {
    border-collapse: collapse;
    }
#requests tr {
    margin: 0;
    border: 0;
    padding: 0;
    color: #070;
    }
#requests tr:hover {
    background-color: #eee;
    }
#requests tr.blocked-true {
    color: #c00;
    }
#requests tr > td {
    padding: 1px 1em 1px 0;
    white-space: nowrap;
    }
#requests tr > td:nth-of-type(2) {
    text-align: right;
    }
.type-main_frame {
    font-weight: bold;
    }
</style>
<link href='css/fonts.css' rel='stylesheet' type='text/css'>
</head>

<body>
<h1>HTTP Switchboard</h1>
<div>
<ul>
  <li>Version: <span id="version"></span> (<a href="https://github.com/gorhill/httpswitchboard/wiki/Change-log">change log</a>)
  <li>About <a href="https://github.com/gorhill/httpswitchboard/wiki/Permissions">permissions</a>
  <li><a href="https://github.com/gorhill/httpswitchboard/wiki/Credits">Credits</a>
</ul>
</div>



<h3>Whitelists/blacklists</h3>
<div id="lists">
<div style="white-space:nowrap;" data-template> <!-- begin template 'stats' -->
<div>
    Whitelisted domains:<br>
    Blacklisted domains:
    </div>
<div>
    {{whitelistCount | format ,}}<br>
    {{blacklistCount | format ,}}
    </div>
<div style="margin:1em 0 0 0;display:block;text-align:left">
    Remote blacklists:<ul style="margin:0;color:gray">
    <li data-template-for="remoteBlacklists" data-from-map><a href="{{key}}">{{key}}</a>
    &ensp;(fetched on {{value.timeStamp | date DD MMMM YYYY}})
    </ul>
    </div>
</div> <!-- end template 'stats' -->
</div>



<h3>Statistics</h3>
<div id="stats">
<div style="white-space:nowrap;" data-template> <!-- begin template 'stats' -->

<div>
    Requests<br>
    All:<br>
    Pages:<br>
    <a href="http://en.wikipedia.org/wiki/Http_cookie">Cookies</a>:<br>
    Images:<br>
    <span title="i.e. Flash, ActiveX, Java applets, etc.">Objects</span>:<br>
    <a href="http://en.wikipedia.org/wiki/HTML_scripting">Scripts</a>:<br>
    <a href="http://en.wikipedia.org/wiki/XMLHttpRequest">XMLHttpRequests</a>:<br>
    <a href="http://en.wikipedia.org/wiki/Framing_(World_Wide_Web)">Frames</a>:<br>
    <span title="i.e. HTML5 audio, HTML5 video, HTML5 canvas, fonts, etc.">Others</span>:<br>
    </div>
<div style="color:#c00">
    Blocked<br>
    {{blockedRequestCounters.all | format ,}}<br>
    {{blockedRequestCounters.main_frame | format ,}}<br>
    {{blockedRequestCounters.cookie | format ,}}<br>
    {{blockedRequestCounters.image | format ,}}<br>
    {{blockedRequestCounters.object | format ,}}<br>
    {{blockedRequestCounters.script | format ,}}<br>
    {{blockedRequestCounters.xmlhttprequest | format ,}}<br>
    {{blockedRequestCounters.sub_frame | format ,}}<br>
    {{blockedRequestCounters.other | format ,}}<br>
    </div>
<div style="color:#070">
    Allowed<br>
    {{allowedRequestCounters.all | format ,}}<br>
    {{allowedRequestCounters.main_frame | format ,}}<br>
    {{allowedRequestCounters.cookie | format ,}}<br>
    {{allowedRequestCounters.image | format ,}}<br>
    {{allowedRequestCounters.object | format ,}}<br>
    {{allowedRequestCounters.script | format ,}}<br>
    {{allowedRequestCounters.xmlhttprequest | format ,}}<br>
    {{allowedRequestCounters.sub_frame | format ,}}<br>
    {{allowedRequestCounters.other | format ,}}<br>
    </div>

</div> <!-- end template 'stats' -->
</div>



<h3>Recent net requests</h3>
<div id="requests">
<p><button id="refresh-requests">Refresh</button></p>
<p>
    Show: <input id="show-main_frame" type="checkbox" checked value="1">Pages&emsp;
          <input id="show-blocked" type="checkbox" checked value="1"><span style="color:#c00">Blocked</span>&emsp;
          <input id="show-allowed" type="checkbox" checked value="1"><span style="color:#070">Allowed</span>&emsp;
          <input id="show-cookie" type="checkbox" checked value="1">Cookies&emsp;
          <input id="show-image" type="checkbox" checked value="1">Images&emsp;
          <input id="show-object" type="checkbox" checked value="1">Objects&emsp;
          <input id="show-script" type="checkbox" checked value="1">Scripts&emsp;
          <input id="show-xmlhttprequest" type="checkbox" checked value="1">XHRs&emsp;
          <input id="show-sub_frame" type="checkbox" checked value="1">Frames&emsp;
          <input id="show-other" type="checkbox" checked value="1">Others&emsp;
    </p>
<div style="height: 400px">
<!-- begin template 'requests' --><table>
<tr class="blocked-{{blocked}} type-{{type}}" data-template><td>{{when | date HH:mm:ss}}<td>{{type}}<td>{{url}}</tr>
<!-- end template 'requests' -->
<tr data-after-template><td>...
</table>
</div>
</div>



<script src="lib/jquery-2.min.js"></script>
<script src="lib/tempo.min.js"></script>
<script src="js/info.js"></script>
</body>
</html>
